<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>EliasHaeussler\Api\Service\LogService | elias-haeussler.de API</title>

            <link rel="stylesheet" type="text/css" href="../../../css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="../../../css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="../../../css/sami.css">
        <script src="../../../js/jquery-1.11.1.min.js"></script>
        <script src="../../../js/bootstrap.min.js"></script>
        <script src="../../../js/typeahead.min.js"></script>
        <script src="../../../sami.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    
    
    </head>

    <body id="class" data-name="class:EliasHaeussler_Api_Service_LogService" data-root-path="../../../">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                    <form action="#" method="GET">
                <select id="version-switcher" name="version">
                                            <option value="../../../../1.0.0/index.html" data-version="1.0.0">1.0.0</option>
                                            <option value="../../../../2.0.0/index.html" data-version="2.0.0">2.0.0</option>
                                            <option value="../../../../3.0.0/index.html" data-version="3.0.0">3.0.0</option>
                                            <option value="../../../../3.1.0/index.html" data-version="3.1.0">3.1.0</option>
                                            <option value="../../../../4.0.0/index.html" data-version="4.0.0">4.0.0</option>
                                            <option value="../../../../4.0.1/index.html" data-version="4.0.1">4.0.1</option>
                                            <option value="../../../../4.0.2/index.html" data-version="4.0.2">4.0.2</option>
                                            <option value="../../../../4.1.0/index.html" data-version="4.1.0">4.1.0</option>
                                            <option value="../../../../4.1.1/index.html" data-version="4.1.1">4.1.1</option>
                                            <option value="../../../../4.2.0/index.html" data-version="4.2.0">4.2.0</option>
                                            <option value="../../../../4.3.0/index.html" data-version="4.3.0">4.3.0</option>
                                            <option value="../../../../4.3.1/index.html" data-version="4.3.1">4.3.1</option>
                                            <option value="../../../../4.3.2/index.html" data-version="4.3.2">4.3.2</option>
                                            <option value="../../../../4.3.3/index.html" data-version="4.3.3">4.3.3</option>
                                            <option value="../../../../4.3.4/index.html" data-version="4.3.4">4.3.4</option>
                                            <option value="../../../../master/index.html" data-version="master">master</option>
                                    </select>
            </form>
                <script>
            $('option[data-version="'+window.projectVersion+'"]').prop('selected', true);
        </script>
        <form id="search-form" action="../../../search.html" method="GET">
            <span class="glyphicon glyphicon-search"></span>
            <input name="search"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search">
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../../index.html">elias-haeussler.de API</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                    <li><a href="../../../classes.html">Classes</a></li>
                                            <li><a href="../../../namespaces.html">Namespaces</a></li>
                                        <li><a href="../../../interfaces.html">Interfaces</a></li>
                    <li><a href="../../../traits.html">Traits</a></li>
                    <li><a href="../../../doc-index.html">Index</a></li>
                    <li><a href="../../../search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                        <div class="namespace-breadcrumbs">
            <ol class="breadcrumb">
                <li><span class="label label-default">class</span></li>
                        <li><a href="../../../EliasHaeussler.html">EliasHaeussler</a></li><li class="backslash">\</li><li><a href="../../../EliasHaeussler/Api.html">Api</a></li><li class="backslash">\</li><li><a href="../../../EliasHaeussler/Api/Service.html">Service</a></li><li class="backslash">\</li><li>LogService</li>
            </ol>
        </div>
                <div id="page-content">
                
    <div class="page-header">
        <h1>
            LogService
                
        </h1>
    </div>

    <p>    class
    <strong>LogService</strong>        (<a href="https://github.com/eliashaeussler/api/blob/master/src/classes/Service/LogService.php">View source</a>)
</p>

        
    

            <div class="description">
            <p>File-based log service.</p>            <p>This class provides a log service which can be used to log several actions during API requests in log files. It can
be helpful to reproduce errors or debug custom API functions. Log files will be rotated if they reach a file size
of 5 MB (respectively 5242880 Bytes). Use the console to clear old log files.</p>                    </div>
    
    
            <h2>Constants</h2>

            <table class="table table-condensed">
                    <tr>
                <td>SUCCESS</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>DEBUG</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>NOTICE</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>WARNING</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>ERROR</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>SEVERITY_NAME</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>LOG_DIRECTORY</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>LOG_FILE_NAME</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>LOG_FILE_NAME_ROTATION_PATTERN</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>LOG_FILE_MAX_SIZE</td>
                <td class="last">
                    <p><em></em></p>
                    <p></p>
                </td>
            </tr>
            </table>

    
            <h2>Properties</h2>

            <table class="table table-condensed">
                    <tr>
                <td class="type" id="property_cliLogLevel">
                    static                    protected                                        int
                </td>
                <td>$cliLogLevel</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_consoleCommandInstance">
                    static                    protected                                        <a href="../../../EliasHaeussler/Api/Command/BaseCommand.html"><abbr title="EliasHaeussler\Api\Command\BaseCommand">BaseCommand</abbr></a>
                </td>
                <td>$consoleCommandInstance</td>
                <td class="last"></td>
                <td></td>
            </tr>
            </table>

    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;void
                </div>
                <div class="col-md-8 type">
                    <a href="#method_log">log</a>(string $message, int $severity = self::NOTICE)
        
                                            <p>Write a message to the log file using a given severity.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;string
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getLogFileName">getLogFileName</a>(string|null $fileName = null)
        
                                            <p>Get full path and file name of a requested log file.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;array
                </div>
                <div class="col-md-8 type">
                    <a href="#method_clearLogFiles">clearLogFiles</a>(bool $keepDefaultFile = true)
        
                                            <p>Clear old log files.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;void
                </div>
                <div class="col-md-8 type">
                    <a href="#method_setCliLogLevel">setCliLogLevel</a>(int $cliLogLevel)
        
                                            <p>Set log level for CLI requests.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;void
                </div>
                <div class="col-md-8 type">
                    <a href="#method_setConsoleCommandInstance">setConsoleCommandInstance</a>(<a href="../../../EliasHaeussler/Api/Command/BaseCommand.html"><abbr title="EliasHaeussler\Api\Command\BaseCommand">BaseCommand</abbr></a> $consoleCommandInstance)
        
                                            <p>Set current console command instance.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;string
                </div>
                <div class="col-md-8 type">
                    <a href="#method_buildLogMessage">buildLogMessage</a>(string $message, int $severity = self::NOTICE)
        
                                            <p>Build log message.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;void
                </div>
                <div class="col-md-8 type">
                    <a href="#method_rotateLogFiles">rotateLogFiles</a>()
        
                                            <p>Rotate log files.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;void
                </div>
                <div class="col-md-8 type">
                    <a href="#method_writeLogFile">writeLogFile</a>(string|null $fileName = null)
        
                                            <p>Write log file without contents.</p>                </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method_log">
        <div class="location">at         <a href="https://github.com/eliashaeussler/api/blob/master/src/classes/Service/LogService.php#L87">line 87</a></div>
        <code>        static            void
    <strong>log</strong>(string $message, int $severity = self::NOTICE)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Write a message to the log file using a given severity.</p>                    <p>Writes a given message to the log file with the given severity. The method respects the globally set minimum
log level so that e.g. messages with severity {see LogService::DEBUG} won't be logged if <code>MINIMUM_LOG_LEVEL</code>
is set to a number higher than <code>0</code>.</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$message</td>
                <td>The message to be logged</td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$severity</td>
                <td>The messages' severity level</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getLogFileName">
        <div class="location">at         <a href="https://github.com/eliashaeussler/api/blob/master/src/classes/Service/LogService.php#L120">line 120</a></div>
        <code>        static            string
    <strong>getLogFileName</strong>(string|null $fileName = null)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Get full path and file name of a requested log file.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string|null</td>
                <td>$fileName</td>
                <td>The base file name of the log file, can be null to use the default file name</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td>The file name of the requested log file</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_clearLogFiles">
        <div class="location">at         <a href="https://github.com/eliashaeussler/api/blob/master/src/classes/Service/LogService.php#L139">line 139</a></div>
        <code>        static            array
    <strong>clearLogFiles</strong>(bool $keepDefaultFile = true)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Clear old log files.</p>                    <p>Removes old log files from the file system. Set <code>$keepDefaultFile</code> to <code>true</code> to preserve the default file
{see LogService::LOG_FILE_NAME}. The method returns an array with the result of each file removal.</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>bool</td>
                <td>$keepDefaultFile</td>
                <td>Define whether to keep the default log file</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td>Result set of each log file removal</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_setCliLogLevel">
        <div class="location">at         <a href="https://github.com/eliashaeussler/api/blob/master/src/classes/Service/LogService.php#L162">line 162</a></div>
        <code>        static            void
    <strong>setCliLogLevel</strong>(int $cliLogLevel)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Set log level for CLI requests.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>int</td>
                <td>$cliLogLevel</td>
                <td>Log level for CLI requests</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_setConsoleCommandInstance">
        <div class="location">at         <a href="https://github.com/eliashaeussler/api/blob/master/src/classes/Service/LogService.php#L172">line 172</a></div>
        <code>        static            void
    <strong>setConsoleCommandInstance</strong>(<a href="../../../EliasHaeussler/Api/Command/BaseCommand.html"><abbr title="EliasHaeussler\Api\Command\BaseCommand">BaseCommand</abbr></a> $consoleCommandInstance)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Set current console command instance.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="../../../EliasHaeussler/Api/Command/BaseCommand.html"><abbr title="EliasHaeussler\Api\Command\BaseCommand">BaseCommand</abbr></a></td>
                <td>$consoleCommandInstance</td>
                <td>Current console command instance</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_buildLogMessage">
        <div class="location">at         <a href="https://github.com/eliashaeussler/api/blob/master/src/classes/Service/LogService.php#L188">line 188</a></div>
        <code>        static    protected        string
    <strong>buildLogMessage</strong>(string $message, int $severity = self::NOTICE)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Build log message.</p>                    <p>Builds the log message by adding custom information like time, severity level and backtrace (only for error
severity level).</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$message</td>
                <td>The message to be used for building the complete log message</td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$severity</td>
                <td>The messages' severity level</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td>The generated log message</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_rotateLogFiles">
        <div class="location">at         <a href="https://github.com/eliashaeussler/api/blob/master/src/classes/Service/LogService.php#L219">line 219</a></div>
        <code>        static    protected        void
    <strong>rotateLogFiles</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Rotate log files.</p>                    <p>Rotates the log files if their file sizes reaches the maximum file size defined within
{see LogService::LOG_FILE_MAX_SIZE}. This means that the default log file will be suffixed with a number
higher than the last rotated log file. After that, a new default log file will be created. This method also
checks whether the log directory exists. After calling it, the default log file always exists and is writable.</p>                            </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_writeLogFile">
        <div class="location">at         <a href="https://github.com/eliashaeussler/api/blob/master/src/classes/Service/LogService.php#L265">line 265</a></div>
        <code>        static    protected        void
    <strong>writeLogFile</strong>(string|null $fileName = null)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Write log file without contents.</p>                    <p>Writes a log file to the file system without writing any contents into it.</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string|null</td>
                <td>$fileName</td>
                <td>The base file name of the log file, can be null to use the default file name</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
            </div>

    
            </div>
                <div id="footer">
        Generated by <a href="http://sami.sensiolabs.org/">Sami, the API Documentation Generator</a>.
    </div>

        </div>
    </div>
    </body>

</html>
